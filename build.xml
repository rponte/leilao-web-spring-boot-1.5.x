<?xml version="1.0" encoding="UTF-8" ?>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated Feb 15, 2018 1:59:59 PM-->
<project name="ADP Federation" default="all">

  <!-- Importa tasks de deploy -->
  <import file="deploy/wldeploy.xml" />

  <!-- Arquivo de configuração do projeto -->
  <property file="build.properties"/>
   
  <!-- ======================================================
       Executa todos os passos para gerar o .war
       ====================================================== -->
  <target name="all" description="Build the project" depends="war" />

  <!-- ======================================================
       Gera versão da aplicaçao
       ====================================================== -->  
  <target name="gen-version-number" description="Generates Version Number">
    <!-- Cria variaveis auxiliares -->
    <property name="app.version" value="${app.version}" />
    <property name="war.name" value="${app.name}-${app.version}.war" />
  	
    <echo>New App version: ${app.version}</echo>
    <echo>New War name   : ${war.name}</echo>
  </target>
  
  <!-- ======================================================
       Gera .war da aplicação - Maven
       ====================================================== -->
  <target name="war" description="Generate WAR file" depends="gen-version-number" unless="skip.war">
  		<echo>Generation WAR file (fake)...</echo>
  </target>
  
  <!-- ======================================================
       Deploy .war da aplicação no WebLogic Localhost (jDeveloper 11g)
       ====================================================== -->  
  <target name="deploy:local" description="Deploy WAR into WebLogic - Localhost" depends="gen-version-number, war">
    <wldeploy-undeploy name="${app.name}" environment="local" />
    <wldeploy-deploy   name="${app.name}" environment="local" source="target/${war.name}" />
  </target>
  
  <!-- ======================================================
       Deploy .war da aplicação no WebLogic de DEV
       ====================================================== -->
  <target name="deploy:dev" description="Deploy WAR into WebLogic - DEV" depends="gen-version-number, war">
    <wldeploy-undeploy name="${app.name}" environment="dev" />
    <wldeploy-deploy   name="${app.name}" environment="dev" source="target/${war.name}" />
  </target>

</project>
